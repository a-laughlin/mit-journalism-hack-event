function is_touch_device(){return"ontouchstart"in window||"onmsgesturechange"in window}jQuery.exists=function(e){return jQuery(e).length>0};jQuery.fn.hasAttr=function(e){return this.attr(e)!==undefined};(function(e){"use strict";function t(){var e=window.navigator.userAgent,t=e.indexOf("MSIE "),n=e.indexOf("Trident/");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(n>0){var r=e.indexOf("rv:");return parseInt(e.substring(r+3,e.indexOf(".",r)),10)}return!1}function n(){jQuery().queryLoader2&&t()==0&&e("body").queryLoader2({showbar:"on",barColor:mk_accent_color,textColor:"#444444",backgroundColor:"#FFFFFF",barHeight:1,logo:mk_preloader_logo,percentage:!0,completeAnimation:"fade",minimumTime:700,onComplete:function(){e(".mk-body-loader-overlay").fadeOut(600,"easeInOutExpo",function(){e(this).remove()})}});t()>7&&e(".mk-body-loader-overlay").hide()}function r(){if(!e.exists(".mk-window-scroller"))return!1;e(".mk-window-scroller").each(function(){var t=e(this),n=t.attr("data-height"),r=t.find("img"),i=parseInt(t.attr("data-speed"));t.stop(!0,!0).hoverIntent(function(){r.animate({top:-(r.height()-n)},i)},function(){r.animate({top:0},i/3)})})}function i(){if(e("#mk-header").hasClass("sticky-header")&&e(window).width()>mk_nav_res_width){var t=parseInt(e(window).scrollTop()),n=parseInt(mk_header_padding*2+mk_logo_height)+30;t>n?e("#mk-header").addClass("sticky-trigger-header"):e("#mk-header").removeClass("sticky-trigger-header");setTimeout(function(){u()},200)}}function s(){if(e("#mk-header").hasClass("transparent-header")&&e(window).width()>mk_nav_res_width){var t=parseInt(e(window).scrollTop()),n=e(".mk-edge-slider.first-el-true").find(".swiper-slide-active").attr("data-header-skin"),r=parseInt(mk_header_padding*2+mk_logo_height)+30;mk_header_trans_offset=mk_header_trans_offset==0?e(window).height():mk_header_trans_offset;if(e.exists("#wpadminbar"))var i=e("#wpadminbar").height();else var i=0;t>r?e("#mk-header").addClass("header-offset-passed").css("top",-200):e("#mk-header").removeClass("header-offset-passed").attr("top","");t>mk_header_trans_offset?e("#mk-header").addClass("transparent-header-sticky sticky-trigger-header").removeClass("light-header-skin dark-header-skin").css("top",i):n!=""&&typeof n!="undefined"?e("#mk-header").removeClass("transparent-header-sticky sticky-trigger-header").addClass(n+"-header-skin").css("top",""):e("#mk-header").removeClass("transparent-header-sticky sticky-trigger-header").addClass(e("#mk-header").attr("data-transparent-skin")+"-header-skin").css("top","");setTimeout(function(){u()},200)}}function o(){e(".main-navigation-ul").dcMegaMenu({rowItems:"6",speed:200,effect:"fade",fullWidth:!0})}function u(){if(e("#mk-header").hasClass("sticky-header")||e.exists(".mk-secondary-header")||e("#mk-header").hasClass("transparent-header")){var t=mk_header_padding*2+mk_logo_height,n=parseInt(mk_header_padding*2/2.4)+parseInt(mk_logo_height/1.5);(e("#mk-header").hasClass("sticky-trigger-header")||e(".mk-secondary-header").hasClass("sticky-trigger-header"))&&e(window).width()>mk_nav_res_width?e(".main-navigation-ul div.sub-container, .mk-shopping-box").css("top",n):e(".main-navigation-ul div.sub-container, .mk-shopping-box").css("top",t)}}function a(){if(e(window).width()>mk_nav_res_width){e("#mk-responsive-nav").hide();setTimeout(function(){o();u()},200);e("#mk-header").attr("data-header-style")=="transparent"&&e("#mk-header").addClass("transparent-header "+e("#mk-header").attr("data-transparent-skin")+"-header-skin")}else{if(!e.exists("#mk-responsive-nav")){e(".main-navigation-ul").clone().attr({id:"mk-responsive-nav","class":""}).appendTo(".resposnive-nav-container");e("#mk-responsive-nav > li > ul, #mk-responsive-nav > li > div").each(function(){e(this).siblings("a").append('<span class="mk-theme-icon-bottom-big mk-nav-arrow mk-nav-sub-closed"></span>')});e(".mk-nav-arrow").click(function(t){if(e(this).hasClass("mk-nav-sub-closed")){e(this).parent().siblings("ul").slideDown(300);e(this).parent().siblings("div").slideDown(300);e(this).removeClass("mk-nav-sub-closed").addClass("mk-nav-sub-opened")}else{e(this).parent().siblings("ul").slideUp(300);e(this).parent().siblings("div").slideUp(300);e(this).removeClass("mk-nav-sub-opened").addClass("mk-nav-sub-closed")}t.preventDefault()})}e("#mk-header").attr("data-header-style")=="transparent"&&e("#mk-header").removeClass("transparent-header "+e("#mk-header").attr("data-transparent-skin")+"-header-skin");e("#mk-responsive-nav li, #mk-responsive-nav li a, #mk-responsive-nav ul, #mk-responsive-nav div").removeAttr("style");e(".mk-header-inner").attr("style","");e("#mk-responsive-nav").append(e(".responsive-searchform"));e("#mk-responsive-nav").show()}e(window).width()<mk_grid_width&&e(".main-navigation-ul .sub-container.mega, .main-navigation-ul .sub-container.mega .row").each(function(){e(this).css("width",e(window).width()-40)})}function l(){e.exists(".mk-secondary-header")&&(f=e(".mk-secondary-header").position().top)}function c(){if(e.exists(".mk-secondary-header")){var t=0,n=0,r=e(window).scrollTop();if(e.exists("#wpadminbar"))var t=e("#wpadminbar").height();if(e.exists("#mk-header.sticky-header"))var n=parseInt(e("#mk-header.sticky-header").attr("data-sticky-height"));var i=f-n;if(r>i){e(".mk-secondary-header").addClass("secondary-header-sticky").css("top",n+t);e(".secondary-header-space").addClass("secondary-space-sticky")}else{e(".mk-secondary-header").removeClass("secondary-header-sticky").css("top","auto");e(".secondary-header-space").removeClass("secondary-space-sticky")}}}function p(){e(".mk-gmaps").each(function(){function b(){var e={zoom:r,center:y,panControl:u,zoomControl:c,mapTypeControl:a,scaleControl:f,draggable:l,scrollwheel:!1,mapTypeId:google.maps.MapTypeId.ROADMAP,styles:m};g=new google.maps.Map(document.getElementById(n),e);if(i!=="")var t=new google.maps.Marker({position:y,map:g,icon:i});else var t=new google.maps.Marker({position:y,map:g,title:""})}var t=e(this),n=t.attr("id"),r=parseInt(t.attr("data-zoom")),i=t.attr("data-pin-icon"),s=t.attr("data-latitude"),o=t.attr("data-longitude"),u=t.attr("data-pan-control")==="true"?!0:!1,a=t.attr("data-map-type-control")==="true"?!0:!1,f=t.attr("data-scale-control")==="true"?!0:!1,l=t.attr("data-draggable")==="true"?!0:!1,c=t.attr("data-zoom-control")==="true"?!0:!1,h=t.attr("data-modify-coloring")==="true"?!0:!1,p=t.attr("data-saturation"),d=t.attr("data-hue"),v=t.attr("data-lightness"),m;if(h==1)var m=[{stylers:[{hue:d},{saturation:p},{lightness:v},{featureType:"landscape.man_made",stylers:[{visibility:"on"}]}]}];var g,y=new google.maps.LatLng(s,o);google.maps.event.addDomListener(window,"load",b)})}function d(){if(e.exists(".mk-gmaps-parallax")){var t=skrollr.init({forceHeight:!1});t.refresh(e(".mk-page-section"))}}function v(){e(".mk-lightbox").prettyPhoto({animation_speed:200,slideshow:5e3,autoplay_slideshow:!1,opacity:.5,show_title:!0,allow_resize:!0,default_width:500,default_height:344,counter_separator_label:"/",theme:"mk-prettyphoto",horizontal_padding:5,hideflash:!1,wmode:"opaque",autoplay:!0,modal:!1,deeplinking:!1,gallery_markup:"",social_tools:""})}function m(){e(".mk-edge-slider").each(function(){var n=e(this),r=n.find(".mk-edge-next"),i=n.find(".mk-edge-prev"),s=n.attr("data-pause"),o=n.attr("data-first"),u=n.attr("data-speed");n.find(".mk-animate-element").removeClass("mk-animate-element fade-in scale-up right-to-left left-to-right bottom-to-top top-to-bottom forthy-five-rotate");var a=n.swiper({mode:"horizontal",loop:!0,grabCursor:!0,useCSS3Transforms:!0,mousewheelControl:!1,freeModeFluid:!0,speed:u,autoplay:s,autoplayDisableOnInteraction:!0,onSwiperCreated:function(s){if(t()==0){var u=n.find(".swiper-slide").eq(0).find(".edge-slide-content .mk-edge-title").text(),a=n.find(".swiper-slide").eq(2).find(".edge-slide-content .mk-edge-title").text();u.length>1?i.find(".prev-item-caption").show().text(u):i.find(".prev-item-caption").css("display","none");a.length>1?r.find(".next-item-caption").show().text(a):r.find(".next-item-caption").css("display","none");e("#mk-header").hasClass("transparent-header-sticky")||o=="true"&&e("#mk-header.transparent-header").removeClass("light-header-skin dark-header-skin").addClass(n.find(".swiper-slide").eq(1).attr("data-header-skin")+"-header-skin")}else{r.find(".next-item-caption").css("display","none");i.find(".prev-item-caption").css("display","none")}},onSlideChangeEnd:function(){if(t()==0){var n=e(a.getSlide(a.activeLoopIndex)).find(".edge-slide-content .mk-edge-title").text(),s=e(a.getSlide(a.activeLoopIndex+2)).find(".edge-slide-content .mk-edge-title").text();n.length>1?i.find(".prev-item-caption").show().text(n):i.find(".prev-item-caption").css("display","none");s.length>1?r.find(".next-item-caption").show().text(s):r.find(".next-item-caption").css("display","none");e("#mk-header").hasClass("transparent-header-sticky")||o=="true"&&e("#mk-header.transparent-header").removeClass("light-header-skin dark-header-skin").addClass(e(a.getSlide(a.activeLoopIndex+1)).attr("data-header-skin")+"-header-skin")}else{r.find(".next-item-caption").css("display","none");i.find(".prev-item-caption").css("display","none")}}});i.click(function(e){a.swipePrev();e.preventDefault()});r.click(function(e){a.swipeNext();e.preventDefault()})})}function g(){e(".mk-edge-slider").each(function(){var t=e(this),n=t.find(".edge-slider-holder, .swiper-slide"),r=t.attr("data-height"),i=t.attr("data-fullHeight"),s=0,o=0,u=e(window).outerHeight();e.exists("#wpadminbar")&&(s=e("#wpadminbar").outerHeight());if(e.exists("#mk-header")&&!e("#mk-header").hasClass("transparent-header"))var o=parseInt(e("#mk-header").attr("data-sticky-height"));e(window).width()<960?u=700:i==="true"?u=u-o-s:u=r;n.css("height",u);t.css("height",u);t.find(".swiper-slide").each(function(){var t=e(this),n=t.find(".edge-slide-content");if(t.hasClass("left_center")||t.hasClass("center_center")||t.hasClass("right_center")){var r=n.outerHeight()/2,i=u/2;n.css("marginTop",i-r)}if(t.hasClass("left_bottom")||t.hasClass("center_bottom")||t.hasClass("right_bottom")){var s=u-n.outerHeight()-90;n.css("marginTop",s)}});t.find(".edge-slider-loading").fadeOut()})}function y(){e(".mk-swiper-slider").each(function(){var t=e(this),n=t.parent().siblings(".gallery-thumbs-small"),r=t.find(".mk-swiper-next"),i=t.find(".mk-swiper-prev"),s=t.attr("data-direction"),o=t.attr("data-pagination")==="true"?!0:!1,u=t.attr("data-slideshowSpeed"),a=t.attr("data-animationSpeed"),f=t.attr("data-freeModeFluid")==="true"?!0:!1,l=t.attr("data-freeMode")==="true"?!0:!1,c=t.attr("data-mousewheelControl")==="true"?!0:!1,h=t.attr("data-loop")==="true"?!0:!1,p=t.attr("data-slidesPerView");if(o===!0)var d="#"+t.attr("id")+" .swiper-pagination";else var d=!1;var m=e(this).swiper({mode:s,loop:h,freeMode:l,pagination:d,freeModeFluid:f,autoplay:u,speed:a,calculateHeight:!0,grabCursor:!0,useCSS3Transforms:!1,mousewheelControl:!0,mousewheelControlForceToAxis:!0,paginationClickable:!0,slidesPerView:p,onSwiperCreated:function(e){v()},onSlideChangeStart:function(){n.find(".active-item").removeClass("active-item");n.find("a").eq(m.activeIndex).addClass("active-item")}});i.click(function(e){m.swipePrev();e.preventDefault()});r.click(function(e){m.swipeNext();e.preventDefault()});n.find("a").on("touchstart mousedown",function(t){t.preventDefault();n.find(".active-item").removeClass("active-item");e(this).addClass("active-item");m.swipeTo(e(this).index())});n.find("a").click(function(e){e.preventDefault()})})}function b(){e(".mk-gallery.thumb-style .gallery-thumbs-small").each(function(){var t=e(this),n=t.children().length,r=n*t.find("a").outerWidth(),i=t.siblings(".gallery-thumb-large").outerWidth();r>i&&t.find("a").css("width",100/n+"%")})}function w(){if(is_touch_device()||e(window).width()<800)return!1;e(".mk-page-section.parallax-true").each(function(){var t=e(this),n=t.attr("data-direction"),r=t.attr("data-speedFactor");if(n==="horizontal_mouse"||n==="vertical_mouse"||n==="both_axis_mouse"){var i=t.attr("data-direction")==="vertical_mouse"?!0:!1,s=t.attr("data-direction")==="horizontal_mouse"?!0:!1,o=t.attr("data-direction")==="both_axis_mouse"?!0:!1;if(o===!0){s=!0;i=!0}e(this).find(".parallax-layer").parallax({mouseport:t,yparallax:i,xparallax:s,decay:.8,frameDuration:50})}else{var u=skrollr.init({forceHeight:!1,mobileCheck:function(){return!1}});u.refresh(e(".mk-page-section"))}})}function E(){e(".mk-image").each(function(){var t=e(this),n=t.outerWidth(),r=t.find(".mk-image-hover").outerHeight(),i=n-40;t.find(".mk-image-hover").css({width:i,"margin-top":-(r/2),"margin-left":-(i/2)})})}function S(){e(".mk-portfolio-item, .widget_recent_portfolio .item-holder").each(function(){var t=e(this),n=t.outerWidth(),r=t.find(".portfolio-meta").outerHeight(),i=n>300?n-100:n-20;t.find(".portfolio-meta").css({width:i,"margin-top":-(r/2),"margin-left":-(i/2)});var s=e(this).find(".portfolio-entry-logo"),o=s.width(),u=s.height();s.css({"margin-left":-o/2,"margin-top":-u/2})})}function x(){e(".mk-employees.grid-style .mk-employee-item").each(function(){var t=e(this),n=t.outerHeight();t.find(".team-info-wrapper").css({height:n})})}function T(){e(".mk-gallery-item").each(function(){var t=e(this),n=t.outerWidth(),r=t.find(".gallery-meta").outerHeight(),i;n<200?i=n:i=n-100;t.find(".gallery-meta").css({width:i,"margin-top":-(r/2),"margin-left":-(i/2)})})}function N(){e(".masonry-portfolio-item").each(function(){var t=e(this),n=t.parent().find(".regular-entry").outerHeight();if(t.hasClass("tall-entry")||t.hasClass("wide-tall-entry")){t.css("height",n*2+"px");t.find(".featured-image").css("height",n*2+"px")}else if(t.hasClass("wide-entry")){t.css("height",n+"px");t.find(".featured-image").css("height",n+"px")}})}function C(){e(".masonry-portfolio-item, .grid-portfolio-item, .portfolio-scroller").each(function(){var t=e(this);t.hover(function(){t.find(".border-tb").stop(!0,!0).animate({height:"100%"},1200,"easeInOutQuint");t.find(".border-bt").stop(!0,!0).animate({height:"100%"},1200,"easeInOutQuint");t.find(".border-bl").stop(!0,!0).animate({width:"100%"},1200,"easeInOutQuint");t.find(".border-tr").stop(!0,!0).animate({width:"100%"},1200,"easeInOutQuint")},function(){t.find(".border-tb").stop(!0,!0).animate({height:0},800,"easeInOutQuint");t.find(".border-bt").stop(!0,!0).animate({height:0},800,"easeInOutQuint");t.find(".border-bl").stop(!0,!0).animate({width:0},800,"easeInOutQuint");t.find(".border-tr").stop(!0,!0).animate({width:0},800,"easeInOutQuint")})})}function k(){if(e.exists(".mk-tabs")){e(".mk-tabs").tabs();e(".mk-tabs.vertical-style").each(function(){var t=e(this),n=t.find(".inner-box"),r=e(this).find(".mk-tabs-tabs").height()+80;n.css("minHeight",r)})}}function L(){e.exists(".jp-jplayer")&&e(".jp-jplayer.mk-blog-audio").each(function(){var t="#"+e(this).siblings(".jp-audio").attr("id"),n,r,i;n=e(this).attr("data-ogg");r=e(this).attr("data-mp3");e(this).jPlayer({ready:function(){e(this).jPlayer("setMedia",{mp3:r,ogg:n})},play:function(){e(this).jPlayer("pauseOthers")},swfPath:i,supplied:"mp3, ogg",cssSelectorAncestor:t,wmode:"window"})})}function A(){e(".portfolio-grid.portfolio-ajax-enabled").ajaxPortfolio()}function O(){e(".loop-main-wrapper").each(function(){var t=e(this),n=t.find(".mk-theme-loop"),r=".mk-isotop-item",i=t.find(".mk-loadmore-button"),s=t.find(".mk-pagination");n.hasClass("isotop-enabled")&&n.isotope({itemSelector:r,animationEngine:"best-available",masonry:{columnWidth:1}});e("#mk-filter-portfolio ul li a").click(function(){var t;t=e(this);t.parents(".portfolio-grid").find(".ajax-container").animate({height:0,opacity:0},500);if(t.hasClass(".current"))return!1;var r=t.parents("#mk-filter-portfolio ul");r.find(".current").removeClass("current");t.addClass("current");var i=e(this).attr("data-filter");n.isotope({filter:""});n.isotope({filter:i});return!1});i.hide();if(t.find(".mk-theme-loop").hasClass("scroll-load-style")||t.find(".mk-theme-loop").hasClass("load-button-style")){s.length>0&&i.css("display","block");s.hide();i.on("click",function(){e(this).hasClass("pagination-loading")||e(this).addClass("pagination-loading")});n.infinitescroll({navSelector:s,nextSelector:t.find(".mk-pagination a:first"),itemSelector:r,bufferPx:70,loading:{finishedMsg:"",msg:null,msgText:"",selector:i,speed:300,start:undefined},errorCallback:function(){i.html(mk_no_more_posts).addClass("disable-pagination")}},function(t){var r=e(t);r.imagesLoaded(function(){i.removeClass("pagination-loading");n.isotope("appended",r);n.isotope({filter:""});var t=e("#mk-filter-portfolio ul").find(".current").attr("data-filter");n.isotope({filter:t});n.isotope("reLayout");L();v();S();T();y();A()})});if(t.find(".mk-theme-loop").hasClass("load-button-style")){e(window).unbind(".infscr");i.click(function(){n.infinitescroll("retrieve");return!1})}}else i.hide()})}function M(){(e.exists(".mk-blog-container")||e.exists(".mk-portfolio-container"))&&e(".mk-blog-container>article, .mk-portfolio-container>article").each(function(t){e(this).delay(t*100).animate({opacity:1},100)}).promise().done(function(){e(".mk-theme-loop").isotope("reLayout")})}function _(){e.exists(".mk-event-countdown")&&e(".mk-event-countdown").each(function(){var t=e(this),n=t.attr("data-date"),r=t.attr("data-offset");t.downCount({date:n,offset:r})})}function D(){e.exists(".mk-instagram-feeds")&&e(".mk-instagram-feeds").each(function(){var t=e(this),n=t.attr("data-size"),r=t.attr("data-sort"),i=t.attr("data-count"),s=parseInt(t.attr("data-userid")),o=t.attr("data-accesstoken"),u=t.attr("data-column"),a=t.attr("id");console.log(s);var f=new Instafeed({get:"user",target:a,resolution:n,sortBy:r,limit:i,userId:s,accessToken:o,template:'<a class="featured-image '+u+'-columns" href="{{link}}"><div class="item-holder"><img src="{{image}}" /><div class="hover-overlay"></div></div></a>'});f.run()})}function P(){e.exists(".mk-accordion")&&e(".mk-accordion").each(function(){var t=e(this),n=t.find(".mk-accordion-single"),r=t.find(".mk-accordion-pane").hide();n.first().addClass("current-item").find(".mk-accordion-pane").slideDown();t.find(".mk-accordion-tab").click(function(){var t=e(this),n=t.parent();if(!n.hasClass("current-item")){n.siblings().removeClass("current-item").end().addClass("current-item");r.slideUp();t.parent().children(".mk-accordion-pane").slideDown()}return!1})});e.exists(".mk-toggle-title")&&e(".mk-toggle-title").toggle(function(){e(this).addClass("active-toggle");e(this).siblings(".mk-toggle-pane").slideDown("fast")},function(){e(this).removeClass("active-toggle");e(this).siblings(".mk-toggle-pane").slideUp("fast")})}function H(){e(".twitter-share").on("click",function(){var t=e(this).attr("data-url"),n=e(this).attr("data-title");window.open("http://twitter.com/intent/tweet?text="+n+" "+t,"twitterWindow","height=380,width=660,resizable=0,toolbar=0,menubar=0,status=0,location=0,scrollbars=0");return!1});e(".pinterest-share").on("click",function(){var t=e(this).attr("data-url"),n=e(this).attr("data-title"),r=e(this).attr("data-image");window.open("http://pinterest.com/pin/create/button/?url="+t+"&media="+r+"&description="+n,"twitterWindow","height=320,width=660,resizable=0,toolbar=0,menubar=0,status=0,location=0,scrollbars=0");return!1});e(".facebook-share").on("click",function(){var t=e(this).attr("data-url");window.open("https://www.facebook.com/sharer/sharer.php?u="+t,"facebookWindow","height=380,width=660,resizable=0,toolbar=0,menubar=0,status=0,location=0,scrollbars=0");return!1});e(".googleplus-share").on("click",function(){var t=e(this).attr("data-url");window.open("https://plus.google.com/share?url="+t,"googlePlusWindow","height=380,width=660,resizable=0,toolbar=0,menubar=0,status=0,location=0,scrollbars=0");return!1})}function B(){e("[data-typer-targets]").typer({highlightSpeed:40,typeSpeed:120,clearDelay:1e3,typeDelay:200,clearOnHighlight:!0,typerDataAttr:"data-typer-targets",typerInterval:2e3})}function j(){e.exists(".mk-process-steps.horizontal")&&e(".mk-process-steps.horizontal").each(function(){var t=e(this),n=t.find(".step-items"),r=t.find(".step-panes");n.find("li").first().addClass("active-step-item");r.css("height",r.find(".mk-step").first().outerHeight()+30);r.find(".mk-step").first().addClass("active-step");n.find("span").hoverIntent(function(){var t=e(this).attr("data-id"),n=r.find('div[id^="'+t+'"]'),i=n.outerHeight()+30;e(this).parent().siblings("li").removeClass("active-step-item").end().addClass("active-step-item");r.css("height",i);r.find(".mk-step").removeClass("active-step");n.addClass("active-step")})})}function F(){e(".full-height-true.mk-page-section").each(function(){var t=e(this),n=t.find(".page-section-content").outerHeight(),r=e(window).height();if(e.exists("#wpadminbar"))var i=e("#wpadminbar").height();else var i=0;if(e.exists("#mk-header.sticky-header"))var s=parseInt(e("#mk-header.sticky-header").attr("data-sticky-height"));else var s=0;r=r-i-s;if(n>r){t.css("height","auto");t.find(".page-section-content").css({"padding-top":30,"padding-bottom":30})}else{t.css("height",r);var o=t.find(".page-section-content").outerHeight()/2,u=r/2;t.find(".page-section-content").css("marginTop",u-o)}t.find(".mk-page-section-loader").fadeOut()})}function I(){e(".mk-flickr-feeds").each(function(){var t=e(this),n=t.attr("data-key"),r=t.attr("data-userid"),i=t.attr("data-count");jQuery.getJSON("http://api.flickr.com/services/rest/?format=json&method=flickr.photos.search&api_key="+n+"&user_id="+r+"&&per_page="+i+"&jsoncallback=?",function(e){jQuery.each(e.photos.photo,function(e,n){var r="http://farm"+n.farm+".static.flickr.com/"+n.server+"/"+n.id+"_"+n.secret,s=r+"_q.jpg",o=r+".jpg",u="<a ",a='title="'+n.title+'" rel="prettyPhoto[flickr-feeds]" class="mk-lightbox featured-image" href="'+o+'"><img src="'+s+'" alt="'+n.title+'"/><div class="hover-overlay"></div></a>;',f=e<i?u+a:u+a;jQuery(f).appendTo(t)})})})}function q(){function r(t,r){this.element=e(t);this.settings=e.extend({},n,r);this.init()}var t="ajaxPortfolio",n={propertyName:"value"};r.prototype={init:function(){var t=this;this.grid=this.element.find(".mk-portfolio-container"),this.items=this.grid.children();if(this.items.length<1)return!1;this.ajaxDiv=this.element.find("div.ajax-container"),this.filter=this.element.find("#mk-filter-portfolio"),this.loader=this.element.find(".portfolio-loader"),this.triggers=this.items.find(".project-load"),this.closeBtn=this.ajaxDiv.find(".close-ajax"),this.nextBtn=this.ajaxDiv.find(".next-ajax"),this.prevBtn=this.ajaxDiv.find(".prev-ajax"),this.api={},this.id=null,this.win=e(window),this.current=0,this.breakpointT=989,this.breakpointP=767,this.columns=this.grid.data("columns"),this.real_col=this.columns;this.loader.fadeIn();if(this.items.length===1){this.nextBtn.remove();this.prevBtn.remove()}this.grid.waitForImages(function(){t.loader.fadeOut();t.bind_handler()})},bind_handler:function(){var t=this;t.filter.find("a").click(function(){t.triggers.removeClass("active");t.grid.removeClass("grid-open");t.close_project();t.filter.find("a").removeClass("active_sort");e(this).addClass("active_sort");var n=e(this).attr("data-filter");t.grid.isotope({filter:n});return!1});t.triggers.on("click",function(){var n=e(this),r=n.parents(".portfolio-ajax-item");t.current=r.index();if(n.hasClass("active"))return!1;t.close_project();t.triggers.removeClass("active");n.addClass("active");t.grid.addClass("grid-open");t.loader.fadeIn();t.id=n.data("post-id");t.load_project();return!1});t.nextBtn.on("click",function(){if(t.current===t.triggers.length-1){t.triggers.eq(0).trigger("click");return!1}t.triggers.eq(t.current+1).trigger("click");return!1});t.prevBtn.on("click",function(){if(t.current===0){t.triggers.eq(t.triggers.length-1).trigger("click");return!1}t.triggers.eq(t.current-1).trigger("click");return!1});t.closeBtn.on("click",function(){t.close_project();t.triggers.removeClass("active");t.grid.removeClass("grid-open");return!1})},close_project:function(){var e=this,t=e.ajaxDiv.find(".ajax_project"),n=t.actual("outerHeight");e.ajaxDiv.height()>0?e.ajaxDiv.css("height",n+"px").transition({height:0,opacity:0},600):e.ajaxDiv.transition({height:0,opacity:0},600)},load_project:function(){var t=this;e.post(ajaxurl,{action:"mk_ajax_portfolio",id:t.id},function(e){t.ajaxDiv.find(".ajax_project").remove();t.ajaxDiv.find(".portfolio-ajax-holder").append(e);t.project_factory();v();k();y();S();T();P();H()})},project_factory:function(){var t=this,n=this.ajaxDiv.find(".ajax_project");n.waitForImages(function(){e("html:not(:animated),body:not(:animated)").animate({scrollTop:t.ajaxDiv.offset().top-160},700);t.loader.fadeOut(function(){var e=n.actual("outerHeight");t.ajaxDiv.transition({opacity:1,height:e},400,function(){t.ajaxDiv.css({height:"auto"})})})})}};e.fn[t]=function(n){return this.each(function(){e.data(this,"plugin_"+t,new r(this,n))})}}var f,h=function(){return{init:function(){var t=window.devicePixelRatio?window.devicePixelRatio:1;t>1&&e("img").each(function(t,n){n=e(n);if(n.attr("data-retina-src")){n.attr("data-src-orig",n.attr("src"));n.attr("src",n.attr("data-retina-src"))}})}}}();h.init();e(window).load(function(){e(".mk-milestone").one("inview",function(t,n){if(n==1){var r=e(this),i=r.find(".milestone-number").attr("data-stop"),s=parseInt(r.find(".milestone-number").attr("data-speed"));e({countNum:r.find(".milestone-number").text()}).animate({countNum:i},{duration:s,step:function(){r.find(".milestone-number").text(Math.floor(this.countNum))},complete:function(){r.find(".milestone-number").text(this.countNum)}})}});e(".mk-skill-meter .progress-outer").one("inview",function(t,n){if(n==1){var r=e(this);r.animate({width:e(this).attr("data-width")+"%"},2e3)}});e(".mk-chart").one("inview",function(t,n){if(n==1){var r=e(this),i=e(this).parent().width(),s=r.attr("data-barSize");if(i<s){s=i;r.css("line-height",s);r.find("i").css({"line-height":s+"px","font-size":s/3})}r.easyPieChart({animate:1300,lineCap:"square",lineWidth:r.attr("data-lineWidth"),size:s,barColor:r.attr("data-barColor"),trackColor:r.attr("data-trackColor"),scaleColor:"transparent",onStep:function(e){this.$el.find(".chart-percent span").text(Math.ceil(e))}})}});(is_touch_device()||e(window).width()<800)&&e("body").addClass("no-transform").find(".mk-animate-element").removeClass("mk-animate-element");e(".mk-animate-element").one("inview",function(t,n){n==1&&e(this).addClass("mk-in-viewport")})});e(".mk-header-search, .mk-side-dashboard, .dashboard-trigger, .search-ajax-input").click(function(e){e.stopPropagation?e.stopPropagation():window.event&&(window.event.cancelBubble=!0)});e("html").click(function(){e(".header-search-icon").removeClass("search-clicked");e("form.header-searchform-input").fadeOut(250);e("#mk-header").removeClass("header-search-triggered");e(".dashboard-trigger").removeClass("dashboard-active");e(".theme-main-wrapper, .mk-side-dashboard").removeClass("dashboard-opened")});e(".header-search-icon").on("click",function(t){e("form.header-searchform-input").fadeIn(250);e("#mk-header").addClass("header-search-triggered");e("form.header-searchform-input input[type=text]").focus();t.preventDefault()});e(".header-search-close").on("click",function(t){e("form.header-searchform-input").fadeOut(250);e("#mk-header").removeClass("header-search-triggered");t.preventDefault()});e(".dashboard-trigger").on("click",function(t){if(!e(this).hasClass("dashboard-active")){e(this).addClass("dashboard-active");e(".theme-main-wrapper, .mk-side-dashboard").addClass("dashboard-opened")}else{e(this).removeClass("dashboard-active");e(".theme-main-wrapper, .mk-side-dashboard").removeClass("dashboard-opened")}t.preventDefault()});e(".responsive-nav-link").on("click",function(t){if(!e(this).hasClass("res-nav-opened")){e(this).addClass("res-nav-opened");e(".resposnive-nav-container").slideDown(600)}else{e(this).removeClass("res-nav-opened");e(".resposnive-nav-container").slideUp(600)}t.preventDefault()});e(window).on("debouncedresize",function(e){setTimeout(function(){g()},500)});I();e(document).ready(function(){function t(){e("body").on("click",".mk-love-this",function(){var t=e(this),n=t.attr("id");if(t.hasClass("item-loved"))return!1;if(t.hasClass("item-inactive"))return!1;var r={action:"mk_love_post",post_id:n};e.post(ajaxurl,r,function(e){t.find("span").html(e);t.addClass("item-loved")});t.addClass("item-inactive");return!1})}function o(){e(".mk-shopping-cart").hoverIntent(function(){e(".mk-shopping-box").fadeIn(200)},function(){e(".mk-shopping-box").delay(500).fadeOut(200)})}function f(){var t=e("body");t.on("click",".add_to_cart_button",function(){var t=e(this).parents(".product:eq(0)").addClass("adding-to-cart").removeClass("added-to-cart")});t.bind("added_to_cart",function(){e(".adding-to-cart").removeClass("adding-to-cart").addClass("added-to-cart");o()})}function h(){e.exists(".search-ajax-input")&&(e(".search-ajax-input").autocomplete({delay:50,minLength:2,messages:{noResults:"",results:function(){}},appendTo:e(".header-searchform-input"),source:function(t,n){e.getJSON(ajaxurl+"?callback=?&action=mk_ajax_search",t,n)},select:function(e,t){window.location.href=t.item.link}}).data("ui-autocomplete")._renderItem=function(t,n){return e("<li>").append("<a>"+n.image+"<span class='search-title'>"+n.label+"</span><span class='search-date'>"+n.date+"</span></a>").appendTo(t)})}function I(){if(e.tools.validator!=undefined){e.tools.validator.addEffect("contact_form",function(t){e.each(t,function(e,t){var n=t.input;n.addClass("mk-invalid")})},function(e){e.removeClass("mk-invalid")});e(".mk-contact-form").validator({effect:"contact_form"}).submit(function(t){var n=e(this);if(!t.isDefaultPrevented()){e(this).find(".mk-contact-loading").fadeIn("slow");var r={action:"mk_contact_form",to:e(this).find('input[name="contact_to"]').val().replace("*","@"),name:e(this).find('input[name="contact_name"]').val(),phone:e(this).find('input[name="contact_phone"]').val(),email:e(this).find('input[name="contact_email"]').val(),content:e(this).find('textarea[name="contact_content"]').val()};e.post(ajaxurl,r,function(e){n.find(".mk-contact-loading").fadeOut("slow");n.find(".mk-contact-success").delay(2e3).fadeIn("slow").delay(8e3).fadeOut();n.find("input#contact_email, input#contact_name, textarea").val("")});t.preventDefault()}})}}function q(){e("form.mk-login-form").each(function(){var t=e(this);t.on("submit",function(n){e("p.mk-login-status",t).show().text(ajax_login_object.loadingmessage);e.ajax({type:"POST",dataType:"json",url:ajax_login_object.ajaxurl,data:{action:"ajaxlogin",username:e("#username",t).val(),password:e("#password",t).val(),security:e("#security",t).val()},success:function(n){e("p.mk-login-status",t).text(n.message);n.loggedin===!0&&(document.location.href=ajax_login_object.redirecturl)}});n.preventDefault()})})}function R(){var t,n=e(".main-navigation-ul"),r=n.find(".menu-item a"),i=0,s=0,o=0;r.each(function(){if(e(this).hasAttr("href"))var t=e(this).attr("href").split("#")[0];else t="";if(t===window.location.href.split("#")[0]&&typeof e(this).attr("href").split("#")[1]!="undefined"&&t!==""){e(this).attr("href","#"+e(this).attr("href").split("#")[1]);e(this).parent().removeClass("current-menu-item")}});var u=r.map(function(){var t=e(this).attr("href");if(/^#\w/.test(t)&&e(t).length)return e(t)});if(e.exists("#wpadminbar"))var o=e("#wpadminbar").height();if(e.exists("#mk-header")&&!e("#mk-header").hasClass("transparent-header"))var s=parseInt(e("#mk-header").attr("data-sticky-height"));if(e.exists(".mk-secondary-header"))var i=parseInt(e(".mk-secondary-header").attr("data-sticky-height"));r.click(function(t){var n=e(this).attr("href");if(typeof e(n).offset()!="undefined")var r=e(n).offset().top;else var r=0;var u=n==="#"?0:r-(o+s+i-2)+"px";e("html, body").stop().animate({scrollTop:u},{duration:800,easing:"easeInOutExpo"});t.preventDefault()});e(window).scroll(function(){if(!u.length)return!1;var n=e(this).scrollTop()+(o+s+i-1),a=u.map(function(){if(e(this).offset().top<n)return this});a=a[a.length-1];var f=a&&a.length?a[0].id:"";if(t!==f){t=f;r.parent().removeClass("current-menu-item");f.length&&r.filter("[href=#"+f+"]").parent().addClass("current-menu-item")}})}n();D();a();u();y();i();s();L();H();p();_();m();A();B();e(window).load(function(){v();N();E();S();T();r();F();d();P();k();x();j();b();g();O();M();w();l();c();C()});e(window).on("debouncedresize",function(){S();N();E();F();a();x();r();w();l();c()});e(window).scroll(function(){i();c();s()});e(window).scroll(function(){e(this).scrollTop()>700?e(".mk-go-top").removeClass("off").addClass("on"):e(".mk-go-top").removeClass("on").addClass("off")});e(".mk-go-top, .mk-back-top-link").click(function(){e("html, body").animate({scrollTop:0},800,"easeInOutExpo");return!1});t();setTimeout(function(){o()},500);f();e.exists("#wpadminbar")&&e
(".mk-side-dashboard").addClass("wpadminbar-exists");h();I();e(this).find(".mk-form-row input, .comment-form-row input, .mk-login-form input").each(function(){e(this).focusin(function(){e(this).siblings("i").addClass("input-focused")});e(this).focusout(function(){e(this).siblings("i").removeClass("input-focused")})});q();e(".mk-smooth, .blog-comments").bind("click",function(t){var n=0,r=0,i=0;if(e.exists("#wpadminbar"))var i=e("#wpadminbar").height();if(e.exists("#mk-header")&&!e("#mk-header").hasClass("transparent-header"))var r=parseInt(e("#mk-header").attr("data-sticky-height"));if(e.exists(".mk-secondary-header"))var n=parseInt(e(".mk-secondary-header").attr("data-sticky-height"));e("body, html").animate({scrollTop:e(e(this).attr("href")).offset().top-(i+r+n-2)+"px"},{duration:1200,easing:"easeInOutExpo"});t.preventDefault()});R()});q()})(jQuery);(function(e){function t(n){var r,i,s,o,u=/url\((.*)\)/,a=["background-image","-webkit-border-image"],f={};if(n.styleSheets)for(r=0;r<n.styleSheets.length;++r)f=e.extend(f,t(n.styleSheets[r]));else if(n.cssRules)for(r=0;r<n.cssRules.length;++r){s=n.cssRules[r];if(s.styleSheet)f=e.extend(f,t(s.styleSheet));else if(s.style)for(i=0;i<a.length;i++){o=u.exec(s.style.getPropertyValue(a[i]));o&&o.length===2&&(f[o[1]]=o[0])}}return f}e.extend({preload:{images:function(n){n=n||document;var r=e.map(t(n),function(e){return e}),i=n.getElementsByTagName("head")[0],s=n.createElement("style");s.type="text/css";s.id="preload";s.innerHTML="body::after { content: "+r.join(" ")+"; display: none; }";i.appendChild(s)}}})})(jQuery);(function(e){function t(){var t=window.innerHeight,n=document.compatMode;if(n||!e.support.boxModel)t=n=="CSS1Compat"?document.documentElement.clientHeight:document.body.clientHeight;return t}function n(){var n=t(),r=document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop,i=[];e.each(e.cache,function(){this.events&&this.events.inview&&i.push(this.handle.elem)});i.length&&e(i).each(function(){var t=e(this),i=t.offset().top+150,s=t.height(),o=t.data("inview")||!1;if(r>i+s||r+n<i){if(o){t.data("inview",!1);t.trigger("inview",[!1])}}else if(r<i+s&&!o){t.data("inview",!0);t.trigger("inview",[!0])}})}n();e(window).scroll(function(){n()});e(function(){e(window).load(function(){n()});e(window).scroll()})})(jQuery);(function(e){function t(){var e=location.href;hashtag=e.indexOf("#prettyPhoto")!==-1?decodeURI(e.substring(e.indexOf("#prettyPhoto")+1,e.length)):!1;return hashtag}function n(){if(typeof theRel=="undefined")return;location.hash=theRel+"/"+rel_index+"/"}function r(){location.href.indexOf("#prettyPhoto")!==-1&&(location.hash="prettyPhoto")}function i(e,t){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n="[\\?&]"+e+"=([^&#]*)",r=new RegExp(n),i=r.exec(t);return i==null?"":i[1]}e.prettyPhoto={version:"3.1.5"};e.fn.prettyPhoto=function(s){function g(){e(".pp_loaderIcon").hide();projectedTop=scroll_pos.scrollTop+(d/2-(a.containerHeight/2+30));projectedTop<0&&(projectedTop=0);$ppt.fadeTo(settings.animation_speed,1);$pp_pic_holder.find(".pp_content").animate({height:a.contentHeight,width:a.contentWidth},settings.animation_speed);$pp_pic_holder.animate({top:projectedTop,left:v/2-a.containerWidth/2<0?0:v/2-a.containerWidth/2,width:a.containerWidth},settings.animation_speed,function(){$pp_pic_holder.find(".pp_hoverContainer,#fullResImage").height(a.height).width(a.width);$pp_pic_holder.find(".pp_fade").fadeIn(settings.animation_speed);isSet&&S(pp_images[set_position])=="image"?$pp_pic_holder.find(".pp_hoverContainer").show():$pp_pic_holder.find(".pp_hoverContainer").hide();settings.allow_expand&&(a.resized?e("a.pp_expand,a.pp_contract").show():e("a.pp_expand").hide());settings.autoplay_slideshow&&!m&&!f&&e.prettyPhoto.startSlideshow();settings.changepicturecallback();f=!0});C();s.ajaxcallback()}function y(t){$pp_pic_holder.find("#pp_full_res object,#pp_full_res embed").css("visibility","hidden");$pp_pic_holder.find(".pp_fade").fadeOut(settings.animation_speed,function(){e(".pp_loaderIcon").show();t()})}function b(t){t>1?e(".pp_nav").show():e(".pp_nav").hide()}function w(e,t){resized=!1;E(e,t);imageWidth=e,imageHeight=t;if((p>v||h>d)&&doresize&&settings.allow_resize&&!u){resized=!0,fitting=!1;while(!fitting){if(p>v){imageWidth=v-200;imageHeight=t/e*imageWidth}else if(h>d){imageHeight=d-200;imageWidth=e/t*imageHeight}else fitting=!0;h=imageHeight,p=imageWidth}(p>v||h>d)&&w(p,h);E(imageWidth,imageHeight)}return{width:Math.floor(imageWidth),height:Math.floor(imageHeight),containerHeight:Math.floor(h),containerWidth:Math.floor(p)+36,contentHeight:Math.floor(l),contentWidth:Math.floor(c),resized:resized}}function E(t,n){t=parseFloat(t);n=parseFloat(n);$pp_details=$pp_pic_holder.find(".pp_details");$pp_details.width(t);detailsHeight=parseFloat($pp_details.css("marginTop"))+parseFloat($pp_details.css("marginBottom"));$pp_details=$pp_details.clone().addClass(settings.theme).width(t).appendTo(e("body")).css({position:"absolute",top:-1e4});detailsHeight+=$pp_details.height();detailsHeight=detailsHeight<=34?36:detailsHeight;$pp_details.remove();$pp_title=$pp_pic_holder.find(".ppt");$pp_title.width(t);titleHeight=parseFloat($pp_title.css("marginTop"))+parseFloat($pp_title.css("marginBottom"));$pp_title=$pp_title.clone().appendTo(e("body")).css({position:"absolute",top:-1e4});titleHeight+=$pp_title.height();$pp_title.remove();l=n+detailsHeight;c=t;h=l+titleHeight+$pp_pic_holder.find(".pp_top").height()+$pp_pic_holder.find(".pp_bottom").height();p=t}function S(e){return e.match(/youtube\.com\/watch/i)||e.match(/youtu\.be/i)?"youtube":e.match(/vimeo\.com/i)?"vimeo":e.match(/\b.mov\b/i)?"quicktime":e.match(/\b.swf\b/i)?"flash":e.match(/\biframe=true\b/i)?"iframe":e.match(/\bajax=true\b/i)?"ajax":e.match(/\bcustom=true\b/i)?"custom":e.substr(0,1)=="#"?"inline":"image"}function x(){if(doresize&&typeof $pp_pic_holder!="undefined"){scroll_pos=T();contentHeight=$pp_pic_holder.height(),contentwidth=$pp_pic_holder.width();projectedTop=d/2+scroll_pos.scrollTop-(contentHeight/2+30);projectedTop<0&&(projectedTop=0);if(contentHeight>d)return;$pp_pic_holder.css({top:projectedTop,left:v/2+scroll_pos.scrollLeft-contentwidth/2})}}function T(){if(self.pageYOffset)return{scrollTop:self.pageYOffset,scrollLeft:self.pageXOffset};if(document.documentElement&&document.documentElement.scrollTop)return{scrollTop:document.documentElement.scrollTop,scrollLeft:document.documentElement.scrollLeft};if(document.body)return{scrollTop:document.body.scrollTop,scrollLeft:document.body.scrollLeft}}function N(){d=e(window).height(),v=e(window).width();typeof $pp_overlay!="undefined"&&$pp_overlay.height(e(document).height()).width(v)}function C(){if(isSet&&settings.overlay_gallery&&S(pp_images[set_position])=="image"){itemWidth=57;navWidth=settings.theme=="facebook"||settings.theme=="pp_default"?50:30;itemsPerPage=Math.floor((a.containerWidth-100-navWidth)/itemWidth);itemsPerPage=itemsPerPage<pp_images.length?itemsPerPage:pp_images.length;totalPage=Math.ceil(pp_images.length/itemsPerPage)-1;if(totalPage==0){navWidth=0;$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").hide()}else $pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").show();galleryWidth=itemsPerPage*itemWidth;fullGalleryWidth=pp_images.length*itemWidth;$pp_gallery.css("margin-left",-(galleryWidth/2+navWidth/2)).find("div:first").width(galleryWidth+5).find("ul").width(fullGalleryWidth).find("li.selected").removeClass("selected");goToPage=Math.floor(set_position/itemsPerPage)<totalPage?Math.floor(set_position/itemsPerPage):totalPage;e.prettyPhoto.changeGalleryPage(goToPage);$pp_gallery_li.filter(":eq("+set_position+")").addClass("selected")}else $pp_pic_holder.find(".pp_content").unbind("mouseenter mouseleave")}function k(t){settings.social_tools&&(facebook_like_link=settings.social_tools.replace("{location_href}",encodeURIComponent(location.href)));settings.markup=settings.markup.replace("{pp_social}","");e("body").append(settings.markup);$pp_pic_holder=e(".pp_pic_holder"),$ppt=e(".ppt"),$pp_overlay=e("div.pp_overlay");if(isSet&&settings.overlay_gallery){currentGalleryPage=0;toInject="";for(var n=0;n<pp_images.length;n++){if(!pp_images[n].match(/\b(jpg|jpeg|png|gif)\b/gi)){classname="default";img_src=""}else{classname="";img_src=pp_images[n]}toInject+="<li class='"+classname+"'><a href='#'><img src='"+img_src+"' width='50' alt='' /></a></li>"}toInject=settings.gallery_markup.replace(/{gallery}/g,toInject);$pp_pic_holder.find("#pp_full_res").after(toInject);$pp_gallery=e(".pp_pic_holder .pp_gallery"),$pp_gallery_li=$pp_gallery.find("li");$pp_gallery.find(".pp_arrow_next").click(function(){e.prettyPhoto.changeGalleryPage("next");e.prettyPhoto.stopSlideshow();return!1});$pp_gallery.find(".pp_arrow_previous").click(function(){e.prettyPhoto.changeGalleryPage("previous");e.prettyPhoto.stopSlideshow();return!1});$pp_pic_holder.find(".pp_content").hover(function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeIn()},function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeOut()});itemWidth=57;$pp_gallery_li.each(function(t){e(this).find("a").click(function(){e.prettyPhoto.changePage(t);e.prettyPhoto.stopSlideshow();return!1})})}if(settings.slideshow){$pp_pic_holder.find(".pp_nav").prepend('<a href="#" class="pp_play">Play</a>');$pp_pic_holder.find(".pp_nav .pp_play").click(function(){e.prettyPhoto.startSlideshow();return!1})}$pp_pic_holder.attr("class","pp_pic_holder "+settings.theme);$pp_overlay.css({opacity:0,height:e(document).height(),width:e(window).width()}).bind("click",function(){settings.modal||e.prettyPhoto.close()});e("a.pp_close").bind("click",function(){e.prettyPhoto.close();return!1});settings.allow_expand&&e("a.pp_expand").bind("click",function(t){if(e(this).hasClass("pp_expand")){e(this).removeClass("pp_expand").addClass("pp_contract");doresize=!1}else{e(this).removeClass("pp_contract").addClass("pp_expand");doresize=!0}y(function(){e.prettyPhoto.open()});return!1});$pp_pic_holder.find(".pp_previous, .pp_nav .pp_arrow_previous").bind("click",function(){e.prettyPhoto.changePage("previous");e.prettyPhoto.stopSlideshow();return!1});$pp_pic_holder.find(".pp_next, .pp_nav .pp_arrow_next").bind("click",function(){e.prettyPhoto.changePage("next");e.prettyPhoto.stopSlideshow();return!1});x()}s=jQuery.extend({hook:"rel",animation_speed:"normal",ajaxcallback:function(){},slideshow:5e3,autoplay_slideshow:!1,opacity:.8,show_title:!0,allow_resize:!0,allow_expand:!0,default_width:500,default_height:344,counter_separator_label:"/",theme:"pp_default",horizontal_padding:20,hideflash:!1,wmode:"opaque",autoplay:!0,modal:!1,deeplinking:!0,overlay_gallery:!0,overlay_gallery_max:30,keyboard_shortcuts:!0,changepicturecallback:function(){},callback:function(){},ie6_fallback:!0,markup:'<div class="pp_pic_holder">                         <div class="ppt">&nbsp;</div>                         <div class="pp_top">                             <div class="pp_left"></div>                             <div class="pp_middle"></div>                             <div class="pp_right"></div>                         </div>                         <div class="pp_content_container">                             <div class="pp_left">                             <div class="pp_right">                                 <div class="pp_content">                                     <div class="pp_loaderIcon"></div>                                     <div class="pp_fade">                                         <a href="#" class="pp_expand" title="Expand the image"><i class="mk-icon-expand"></i></a>                                         <div id="pp_full_res"></div>                                         <div class="pp_details">                                             <div class="pp_nav">                                                 <a href="#" class="pp_arrow_previous"><i class="mk-theme-icon-prev-big"></i></a>                                                 <a href="#" class="pp_arrow_next"><i class="mk-theme-icon-next-big"></i></a>                                             </div>                                             <p class="pp_description"></p>                                             <a class="pp_close" href="#"><i class="mk-theme-icon-cancel"></i></a>                                         </div>                                     </div>                                 </div>                             </div>                             </div>                         </div>                         <div class="pp_bottom">                             <div class="pp_left"></div>                             <div class="pp_middle"></div>                             <div class="pp_right"></div>                         </div>                     </div>                     <div class="pp_overlay"></div>',gallery_markup:"",image_markup:'<img id="fullResImage" src="{path}" />',flash_markup:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="{width}" height="{height}"><param name="wmode" value="{wmode}" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{path}" /><embed src="{path}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="{width}" height="{height}" wmode="{wmode}"></embed></object>',quicktime_markup:'<object classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B" codebase="http://www.apple.com/qtactivex/qtplugin.cab" height="{height}" width="{width}"><param name="src" value="{path}"><param name="autoplay" value="{autoplay}"><param name="type" value="video/quicktime"><embed src="{path}" height="{height}" width="{width}" autoplay="{autoplay}" type="video/quicktime" pluginspage="http://www.apple.com/quicktime/download/"></embed></object>',iframe_markup:'<iframe src ="{path}" width="{width}" height="{height}" frameborder="no"></iframe>',inline_markup:'<div class="pp_inline">{content}</div>',custom_markup:"",social_tools:!1},s);var o=this,u=!1,a,f,l,c,h,p,d=e(window).height(),v=e(window).width(),m;doresize=!0,scroll_pos=T();e(window).unbind("resize.prettyphoto").bind("resize.prettyphoto",function(){x();N()});s.keyboard_shortcuts&&e(document).unbind("keydown.prettyphoto").bind("keydown.prettyphoto",function(t){if(typeof $pp_pic_holder!="undefined"&&$pp_pic_holder.is(":visible"))switch(t.keyCode){case 37:e.prettyPhoto.changePage("previous");t.preventDefault();break;case 39:e.prettyPhoto.changePage("next");t.preventDefault();break;case 27:settings.modal||e.prettyPhoto.close();t.preventDefault()}});e.prettyPhoto.initialize=function(){settings=s;settings.theme=="pp_default"&&(settings.horizontal_padding=16);theRel=e(this).attr(settings.hook);galleryRegExp=/\[(?:.*)\]/;isSet=galleryRegExp.exec(theRel)?!0:!1;pp_images=isSet?jQuery.map(o,function(t,n){if(e(t).attr(settings.hook).indexOf(theRel)!=-1)return e(t).attr("href")}):e.makeArray(e(this).attr("href"));pp_titles=isSet?jQuery.map(o,function(t,n){if(e(t).attr(settings.hook).indexOf(theRel)!=-1)return e(t).find("img").attr("alt")?e(t).find("img").attr("alt"):""}):e.makeArray(e(this).find("img").attr("alt"));pp_descriptions=isSet?jQuery.map(o,function(t,n){if(e(t).attr(settings.hook).indexOf(theRel)!=-1)return e(t).attr("title")?e(t).attr("title"):""}):e.makeArray(e(this).attr("title"));pp_images.length>settings.overlay_gallery_max&&(settings.overlay_gallery=!1);set_position=jQuery.inArray(e(this).attr("href"),pp_images);rel_index=isSet?set_position:e("a["+settings.hook+"^='"+theRel+"']").index(e(this));k(this);settings.allow_resize&&e(window).bind("scroll.prettyphoto",function(){x()});e.prettyPhoto.open();return!1};e.prettyPhoto.open=function(t){if(typeof settings=="undefined"){settings=s;pp_images=e.makeArray(arguments[0]);pp_titles=arguments[1]?e.makeArray(arguments[1]):e.makeArray("");pp_descriptions=arguments[2]?e.makeArray(arguments[2]):e.makeArray("");isSet=pp_images.length>1?!0:!1;set_position=arguments[3]?arguments[3]:0;k(t.target)}settings.hideflash&&e("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","hidden");b(e(pp_images).size());e(".pp_loaderIcon").show();settings.deeplinking&&n();if(settings.social_tools){facebook_like_link=settings.social_tools.replace("{location_href}",encodeURIComponent(location.href));$pp_pic_holder.find(".pp_social").html(facebook_like_link)}$ppt.is(":hidden")&&$ppt.css("opacity",0).show();$pp_overlay.show().fadeTo(settings.animation_speed,settings.opacity);$pp_pic_holder.find(".currentTextHolder").text(set_position+1+settings.counter_separator_label+e(pp_images).size());typeof pp_descriptions[set_position]!="undefined"&&pp_descriptions[set_position]!=""?$pp_pic_holder.find(".pp_description").show().html(unescape(pp_descriptions[set_position])):$pp_pic_holder.find(".pp_description").hide();movie_width=parseFloat(i("width",pp_images[set_position]))?i("width",pp_images[set_position]):settings.default_width.toString();movie_height=parseFloat(i("height",pp_images[set_position]))?i("height",pp_images[set_position]):settings.default_height.toString();u=!1;if(movie_height.indexOf("%")!=-1){movie_height=parseFloat(e(window).height()*parseFloat(movie_height)/100-150);u=!0}if(movie_width.indexOf("%")!=-1){movie_width=parseFloat(e(window).width()*parseFloat(movie_width)/100-150);u=!0}$pp_pic_holder.fadeIn(function(){settings.show_title&&pp_titles[set_position]!=""&&typeof pp_titles[set_position]!="undefined"?$ppt.html(unescape(pp_titles[set_position])):$ppt.html("&nbsp;");imgPreloader="";skipInjection=!1;switch(S(pp_images[set_position])){case"image":imgPreloader=new Image;nextImage=new Image;isSet&&set_position<e(pp_images).size()-1&&(nextImage.src=pp_images[set_position+1]);prevImage=new Image;isSet&&pp_images[set_position-1]&&(prevImage.src=pp_images[set_position-1]);$pp_pic_holder.find("#pp_full_res")[0].innerHTML=settings.image_markup.replace(/{path}/g,pp_images[set_position]);imgPreloader.onload=function(){a=w(imgPreloader.width,imgPreloader.height);g()};imgPreloader.onerror=function(){alert("Image cannot be loaded. Make sure the path is correct and image exist.");e.prettyPhoto.close()};imgPreloader.src=pp_images[set_position];break;case"youtube":a=w(movie_width,movie_height);movie_id=i("v",pp_images[set_position]);if(movie_id==""){movie_id=pp_images[set_position].split("youtu.be/");movie_id=movie_id[1];movie_id.indexOf("?")>0&&(movie_id=movie_id.substr(0,movie_id.indexOf("?")));movie_id.indexOf("&")>0&&(movie_id=movie_id.substr(0,movie_id.indexOf("&")))}movie="http://www.youtube.com/embed/"+movie_id;i("rel",pp_images[set_position])?movie+="?rel="+i("rel",pp_images[set_position]):movie+="?rel=1";settings.autoplay&&(movie+="&autoplay=1");toInject=settings.iframe_markup.replace(/{width}/g,a.width).replace(/{height}/g,a.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,movie);break;case"vimeo":a=w(movie_width,movie_height);movie_id=pp_images[set_position];var t=/http(s?):\/\/(www\.)?vimeo.com\/(\d+)/,n=movie_id.match(t);movie="http://player.vimeo.com/video/"+n[3]+"?title=0&amp;byline=0&amp;portrait=0";settings.autoplay&&(movie+="&autoplay=1;");vimeo_width=a.width+"/embed/?moog_width="+a.width;toInject=settings.iframe_markup.replace(/{width}/g,vimeo_width).replace(/{height}/g,a.height).replace(/{path}/g,movie);break;case"quicktime":a=w(movie_width,movie_height);a.height+=15;a.contentHeight+=15;a.containerHeight+=15;toInject=settings.quicktime_markup.replace(/{width}/g,a.width).replace(/{height}/g,a.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,pp_images[set_position]).replace(/{autoplay}/g,settings.autoplay);break;case"flash":a=w(movie_width,movie_height);flash_vars=pp_images[set_position];flash_vars=flash_vars.substring(pp_images[set_position].indexOf("flashvars")+10,pp_images[set_position].length);filename=pp_images[set_position];filename=filename.substring(0,filename.indexOf("?"));toInject=settings.flash_markup.replace(/{width}/g,a.width).replace(/{height}/g,a.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,filename+"?"+flash_vars);break;case"iframe":a=w(movie_width,movie_height);frame_url=pp_images[set_position];frame_url=frame_url.substr(0,frame_url.indexOf("iframe")-1);toInject=settings.iframe_markup.replace(/{width}/g,a.width).replace(/{height}/g,a.height).replace(/{path}/g,frame_url);break;case"ajax":doresize=!1;a=w(movie_width,movie_height);doresize=!0;skipInjection=!0;e.get(pp_images[set_position],function(e){toInject=settings.inline_markup.replace(/{content}/g,e);$pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject;g()});break;case"custom":a=w(movie_width,movie_height);toInject=settings.custom_markup;break;case"inline":myClone=e(pp_images[set_position]).clone().append('<br clear="all" />').css({width:settings.default_width}).wrapInner('<div id="pp_full_res"><div class="pp_inline"></div></div>').appendTo(e("body")).show();doresize=!1;a=w(e(myClone).width(),e(myClone).height());doresize=!0;e(myClone).remove();toInject=settings.inline_markup.replace(/{content}/g,e(pp_images[set_position]).html())}if(!imgPreloader&&!skipInjection){$pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject;g()}});return!1};e.prettyPhoto.changePage=function(t){currentGalleryPage=0;if(t=="previous"){set_position--;set_position<0&&(set_position=e(pp_images).size()-1)}else if(t=="next"){set_position++;set_position>e(pp_images).size()-1&&(set_position=0)}else set_position=t;rel_index=set_position;doresize||(doresize=!0);settings.allow_expand&&e(".pp_contract").removeClass("pp_contract").addClass("pp_expand");y(function(){e.prettyPhoto.open()})};e.prettyPhoto.changeGalleryPage=function(e){if(e=="next"){currentGalleryPage++;currentGalleryPage>totalPage&&(currentGalleryPage=0)}else if(e=="previous"){currentGalleryPage--;currentGalleryPage<0&&(currentGalleryPage=totalPage)}else currentGalleryPage=e;slide_speed=e=="next"||e=="previous"?settings.animation_speed:0;slide_to=currentGalleryPage*itemsPerPage*itemWidth;$pp_gallery.find("ul").animate({left:-slide_to},slide_speed)};e.prettyPhoto.startSlideshow=function(){if(typeof m=="undefined"){$pp_pic_holder.find(".pp_play").unbind("click").removeClass("pp_play").addClass("pp_pause").click(function(){e.prettyPhoto.stopSlideshow();return!1});m=setInterval(e.prettyPhoto.startSlideshow,settings.slideshow)}else e.prettyPhoto.changePage("next")};e.prettyPhoto.stopSlideshow=function(){$pp_pic_holder.find(".pp_pause").unbind("click").removeClass("pp_pause").addClass("pp_play").click(function(){e.prettyPhoto.startSlideshow();return!1});clearInterval(m);m=undefined};e.prettyPhoto.close=function(){if($pp_overlay.is(":animated"))return;e.prettyPhoto.stopSlideshow();$pp_pic_holder.stop().find("object,embed").css("visibility","hidden");e("div.pp_pic_holder,div.ppt,.pp_fade").fadeOut(settings.animation_speed,function(){e(this).remove()});$pp_overlay.fadeOut(settings.animation_speed,function(){settings.hideflash&&e("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","visible");e(this).remove();e(window).unbind("scroll.prettyphoto");r();settings.callback();doresize=!0;f=!1;delete settings})};if(!pp_alreadyInitialized&&t()){pp_alreadyInitialized=!0;hashIndex=t();hashRel=hashIndex;hashIndex=hashIndex.substring(hashIndex.indexOf("/")+1,hashIndex.length-1);hashRel=hashRel.substring(0,hashRel.indexOf("/"));setTimeout(function(){e("a["+s.hook+"^='"+hashRel+"']:eq("+hashIndex+")").trigger("click")},50)}return this.unbind("click.prettyphoto").bind("click.prettyphoto",e.prettyPhoto.initialize)}})(jQuery);var pp_alreadyInitialized=!1;